<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sensylate</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
    </head>
    <body class="bg-gray-50 p-6">
        <div class="max-w-full mx-auto">
            <h1 class="text-2xl font-bold mb-4">Sensylate</h1>

            <!-- File selector section with Update button -->
            <div class="mb-4 p-3 bg-white rounded shadow-sm">
                <div class="flex items-center space-x-2">
                    <div class="flex-grow">
                        <label for="file-selector" class="block text-sm font-medium text-gray-700 mb-2">Select CSV File:</label>
                        <select id="file-selector" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="">Select a file...</option>
                        </select>
                    </div>
                    <div class="pt-6">
                        <button id="update-button" disabled class="px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed">
                            Update
                        </button>
                    </div>
                </div>
            </div>

            <!-- File info section -->
            <div id="file-info" class="mb-4 p-3 bg-white rounded shadow-sm"></div>

            <!-- Loading indicator -->
            <div id="loading" class="flex items-center justify-center p-6">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
                <span class="ml-3">Loading CSV data...</span>
            </div>

            <!-- Error message -->
            <div id="error-message" class="hidden p-4 mb-4 text-red-700 bg-red-100 rounded-lg"></div>

            <!-- Update status message -->
            <div id="update-status" class="hidden mb-4 p-3 rounded shadow-sm"></div>

            <!-- View toggle buttons -->
            <div id="view-toggle" class="hidden mb-4 p-3 bg-white rounded shadow-sm">
                <div class="flex space-x-2">
                    <button id="table-view-btn" class="px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Table View
                    </button>
                    <button id="text-view-btn" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Raw Text View
                    </button>
                </div>
            </div>

            <!-- Table container -->
            <div id="table-container" class="hidden overflow-x-auto bg-white rounded-lg shadow-lg p-4">
                <table id="csv-table" class="w-full"></table>
            </div>

            <!-- Raw text container -->
            <div id="text-container" class="hidden overflow-x-auto bg-white rounded-lg shadow-lg p-4">
                <textarea id="csv-text" class="w-full h-[70vh] font-mono text-sm border border-gray-300 rounded-md p-2" readonly></textarea>
            </div>
        </div>
        <!-- Scripts will be injected by webpack -->
    </body>
</html>
