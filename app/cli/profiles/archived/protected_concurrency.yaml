metadata:
  name: protected_concurrency
  description: Concurrency analysis configuration optimized for protected portfolio
  created_at: '2025-07-19T14:30:00.000000'
  updated_at: '2025-07-19T14:30:00.000000'
  version: '1.0'
  tags:
    - protected
    - conservative
    - concurrency
    - safety-focused
  author: Claude Code Assistant
inherits_from: default_concurrency
config_type: concurrency
config:
  # General configuration for protected portfolio
  general:
    portfolio: 'protected.csv'
    base_dir: ''
    refresh: true
    csv_use_hourly: false
    sort_by: 'sharpe_ratio' # Focus on risk-adjusted returns
    ensure_counterpart: true
    initial_value: 15000.0 # Conservative initial value
    target_var: 0.03 # Lower risk tolerance

  # Conservative risk management
  risk_management:
    max_risk_per_strategy: 50.0 # Lower individual strategy risk
    max_risk_total: 75.0 # Conservative total risk
    risk_calculation_method: 'var' # Value at Risk method

  # Execution settings
  execution_mode: same_period
  signal_definition_mode: complete_trade

  # Conservative allocation
  ratio_based_allocation: true

  # Disable visualization by default for cleaner output
  visualization: false

  # Conservative reporting
  report_includes:
    ticker_metrics: true
    strategies: true
    strategy_relationships: true
    allocation: true

  # Trade history export enabled
  trade_history:
    export_trade_history: true
    export_trades: true
    export_orders: true
    export_positions: true
    output_format: json

  # Standard memory optimization
  memory_optimization:
    enable_memory_optimization: false
    memory_threshold_mb: 800.0
    streaming_threshold_mb: 5.0
    enable_pooling: true
    enable_monitoring: true
    chunk_size_rows: 10000

  # Conservative optimization settings
  optimization:
    enable_optimization: true
    min_strategies: 3 # Require more strategies for diversification
    max_permutations: 2000
    enable_early_stopping: true
    convergence_threshold: 0.0005 # Stricter convergence
    convergence_window: 100
    parallel_processing: false # Disabled for stability
    max_workers: 2

  # Conservative Monte Carlo analysis
  risk_analysis:
    enable_monte_carlo: true
    n_simulations: 8000
    confidence_levels: [95, 99] # Higher confidence levels
    horizon_days: 252
    use_bootstrap: true

  # Performance settings
  enable_caching: true
  cache_ttl_hours: 48 # Longer cache for stable strategies
  enable_compression: false

  # Conservative risk settings
  correlation_threshold: 0.7 # Lower correlation threshold
  max_concurrent_positions: 5 # Fewer concurrent positions
  max_portfolio_risk: 0.08 # 8% max portfolio risk
  sector_concentration_limit: 0.25 # 25% max sector concentration
  enable_correlation_filtering: true
  enable_concurrency_limits: true
  enable_risk_management: true
